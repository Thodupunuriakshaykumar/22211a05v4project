

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QuantumRisk Platform | AI-Driven Risk Assessment</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    html, body {
      background: #10111a;
      min-height: 100vh;
      height: auto;
      margin: 0;
      padding: 0;
      overflow-y: auto;
      width: 100vw;
      font-family: 'Poppins', Arial, sans-serif;
    }
    #particles-bg {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 0;
      pointer-events: none;
      display: block;
    }
    .header-container {
      position: static;
      top: auto;
      left: auto;
      transform: none;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100vw;
      pointer-events: none;
      margin-top: 3.5rem;
      margin-bottom: 0;
    }
    .center-title {
      font-size: 3.2rem;
      font-weight: 900;
      color: #fff;
      text-shadow: 0 0 10px #3f5efb, 0 1px 4px #10111a;
      letter-spacing: 2px;
      font-family: 'Poppins', Arial, sans-serif;
      text-align: center;
      user-select: none;
      margin-bottom: 0.6rem;
      pointer-events: auto;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      transition: text-shadow 0.3s cubic-bezier(.4,2,.3,1), transform 0.3s cubic-bezier(.4,2,.3,1);
    }
    .center-title:hover, .center-title:focus {
      text-shadow: 0 0 24px #3f5efb, 0 0 8px #fff, 0 2px 8px #3f5efb;
      transform: scale(1.06);
      cursor: pointer;
    }
    .subtitle-row {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.1rem;
      pointer-events: auto;
      width: 100%;
    }
    .subtitle {
      font-size: 1.18rem;
      font-weight: 500;
      color: #b8c6ff;
      text-shadow: 0 0 12px #3f5efb, 0 1px 4px #10111a;
      font-family: 'Poppins', Arial, sans-serif;
      text-align: center;
      user-select: none;
      letter-spacing: 0.06em;
      pointer-events: auto;
      transition: text-shadow 0.3s cubic-bezier(.4,2,.3,1);
    }
    .subtitle:hover, .subtitle:focus {
      text-shadow: 0 0 36px #6a82fb, 0 0 24px #fff, 0 2px 8px #3f5efb;
      /* No scale or color change, just glow */
      cursor: pointer;
    }
    .policy-btn {
      padding: 0.7rem 1.6rem;
      font-size: 1.08rem;
      font-weight: 700;
      border: none;
      border-radius: 0.5rem;
      background: #2563eb;
      color: #fff;
      box-shadow: 0 2px 16px 0 rgba(62, 95, 251, 0.13);
      cursor: pointer;
      transition: background 0.22s cubic-bezier(.4,0,.2,1), box-shadow 0.22s cubic-bezier(.4,0,.2,1), transform 0.18s cubic-bezier(.4,0,.2,1);
      outline: none;
      pointer-events: auto;
      margin-left: 0;
      letter-spacing: 0.04em;
      margin-top: 0.2rem;
      display: block;
      align-self: center;
      min-width: 210px;
    }
    .policy-btn:hover, .policy-btn:focus {
      background: #3887ff;
      box-shadow: 0 6px 32px 0 rgba(62, 95, 251, 0.22), 0 1.5px 8px 0 rgba(37,99,235,0.18);
      transform: translateY(-3px) scale(1.045);
    }
    .content-section {
      display: flex;
      flex-direction: row;
      align-items: stretch;
      justify-content: center;
      margin-top: 2.2rem;
      width: 100vw;
      pointer-events: auto;
      z-index: 1;
      gap: 1.2rem;
    }
    .cards-container {
      display: flex;
      flex-direction: row;
      gap: 1.2rem;
      background: rgba(24, 26, 43, 0.55);
      border: 1.5px solid rgba(80, 80, 120, 0.18);
      border-radius: 1.5rem;
      box-shadow: 0 8px 32px 0 rgba(10, 10, 30, 0.18);
      backdrop-filter: blur(18px);
      padding: 0.5rem 0.5rem 0.5rem 0.5rem;
      max-width: 700px;
      width: 98vw;
      margin: 0 auto;
      transition: box-shadow 0.28s, backdrop-filter 0.28s;
      position: relative;
    }
    .cards-divider {
      width: 2.5px;
      background: rgba(120,140,255,0.18);
      border-radius: 1.5rem;
      margin: 0 0.5rem;
      backdrop-filter: blur(8px);
      height: auto;
      min-height: 120px;
      align-self: stretch;
      box-shadow: 0 0 12px 0 rgba(62, 95, 251, 0.10);
    }
    .cards-container:hover {
      box-shadow: 0 16px 48px 0 rgba(62, 95, 251, 0.22);
      backdrop-filter: blur(28px);
    }
    .glass-card {
      background: transparent;
      border: none;
      box-shadow: none;
      backdrop-filter: none;
      padding: 0 0.2rem;
      margin-bottom: 0;
      max-width: 320px;
      width: 100%;
      color: #e0e0ff;
      text-align: left;
      transition: box-shadow 0.25s, transform 0.22s;
      display: flex;
      flex-direction: column;
      justify-content: center;
      font-size: 0.97rem;
    }
    .glass-card:last-child {
      margin-bottom: 0;
    }
    .glass-card h3 {
      margin-top: 0;
      margin-bottom: 0.7rem;
      font-size: 1.08rem;
      color: #fff;
      font-weight: 700;
      letter-spacing: 0.04em;
    }
    .glass-card ul {
      margin: 0 0 0.5rem 0.5rem;
      padding: 0 0 0 1.1em;
      list-style: disc;
      color: #b8c6ff;
      font-size: 0.97rem;
    }
    .glass-card li {
      margin-bottom: 0.15em;
      line-height: 1.35;
    }
    .glass-card .section-title {
      font-size: 0.99rem;
      font-weight: 600;
      margin-top: 0.7rem;
      margin-bottom: 0.1rem;
      color: #a6bfff;
      letter-spacing: 0.03em;
      display: flex;
      align-items: center;
      gap: 0.4em;
    }
    .glass-card .section-title:first-child {
      margin-top: 0;
    }
    .policy-card {
      background: rgba(24, 26, 43, 0.55);
      border: 1.5px solid rgba(80, 80, 120, 0.18);
      border-radius: 1.5rem;
      box-shadow: 0 8px 32px 0 rgba(10, 10, 30, 0.18);
      backdrop-filter: blur(18px);
      padding: 2.1rem 2rem 1.5rem 2rem;
      max-width: 420px;
      width: 90vw;
      color: #e0e0ff;
      text-align: center;
      margin: 5.5rem auto 0 auto;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: box-shadow 0.28s, backdrop-filter 0.28s;
    }
    .policy-card h2 {
      margin-top: 0;
      margin-bottom: 1.2rem;
      font-size: 2rem;
      color: #fff;
      font-weight: 800;
      letter-spacing: 0.04em;
    }
    .policy-card .back-btn {
      margin-top: 2.2rem;
      padding: 0.6rem 1.5rem;
      font-size: 1.05rem;
      font-weight: 700;
      border: none;
      border-radius: 0.5rem;
      background: #2563eb;
      color: #fff;
      box-shadow: 0 2px 16px 0 rgba(62, 95, 251, 0.13);
      cursor: pointer;
      transition: background 0.22s cubic-bezier(.4,0,.2,1), box-shadow 0.22s cubic-bezier(.4,0,.2,1), transform 0.18s cubic-bezier(.4,0,.2,1);
      outline: none;
      letter-spacing: 0.04em;
    }
    .policy-card .back-btn:hover, .policy-card .back-btn:focus {
      background: #3887ff;
      box-shadow: 0 6px 32px 0 rgba(62, 95, 251, 0.22), 0 1.5px 8px 0 rgba(37,99,235,0.18);
      transform: translateY(-3px) scale(1.045);
    }
  </style>
</head>
<body>
  <canvas id="particles-bg"></canvas>
  <div id="main-content">
    <div class="header-container">
      <div class="center-title">QuantumRisk</div>
      <div class="subtitle-row">
        <div class="subtitle">AI-Driven Risk Assessment for Insurance Innovators</div>
        <button class="policy-btn" id="policyBtn">Check your policy</button>
      </div>
      <div class="content-section">
        <div class="cards-container">
          <div class="glass-card">
            <h3>üì¶ TECHNOLOGIES USED</h3>
            <div class="section-title">üîß Frontend Technologies</div>
            <ul>
              <li>HTML5/CSS3 Grid</li>
              <li>JavaScript particles</li>
              <li>Canvas animations</li>
              <li>Glass morphism</li>
              <li>Responsive design</li>
            </ul>
            <div class="section-title">üß† AI/ML Technologies</div>
            <ul>
              <li>ML risk scoring</li>
              <li>Decision trees</li>
              <li>Anomaly detection</li>
              <li>Predictive analytics</li>
              <li>Real-time validation</li>
            </ul>
            <div class="section-title">‚öôÔ∏è Backend Architecture</div>
            <ul>
              <li>Modular JS design</li>
              <li>RESTful APIs</li>
              <li>JSON processing</li>
              <li>Event-driven code</li>
              <li>State management</li>
            </ul>
            <div class="section-title">üé® UI/UX Technologies</div>
            <ul>
              <li>Interactive particles</li>
              <li>CSS animations</li>
              <li>Modern gradients</li>
              <li>Accessibility</li>
              <li>Cross-browser support</li>
            </ul>
          </div>
          <div class="cards-divider"></div>
          <div class="glass-card">
            <h3>üì¶ USES OF THE WEBSITE</h3>
            <div class="section-title">üè¢ Insurance Companies</div>
            <ul>
              <li>Automate underwriting</li>
              <li>Reduce processing time</li>
              <li>Standardize evaluation</li>
              <li>Minimize errors</li>
              <li>Scale operations</li>
            </ul>
            <div class="section-title">üìä Risk Assessment</div>
            <ul>
              <li>Instant evaluation</li>
              <li>Fraud detection</li>
              <li>Risk scoring</li>
              <li>Flag high-risk cases</li>
              <li>Compliance maintenance</li>
            </ul>
            <div class="section-title">üíº Business Operations</div>
            <ul>
              <li>Streamline workflows</li>
              <li>Generate audit trails</li>
              <li>Reduce costs</li>
              <li>Improve satisfaction</li>
              <li>24/7 processing</li>
            </ul>
            <div class="section-title">üìà Decision Intelligence</div>
            <ul>
              <li>Data-driven decisions</li>
              <li>Transparent reasoning</li>
              <li>Complex scenarios</li>
              <li>Market adaptation</li>
              <li>Continuous learning</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="particles.js"></script>
  <script>
    const mainContent = document.getElementById('main-content');
    const policyBtn = document.getElementById('policyBtn');
    // Fields to include in the form (excluding system/result fields)
    const formFields = [
      { key: 'Age', label: 'Age', type: 'number', min: 0, max: 120, required: true },
      { key: 'Income', label: 'Annual Income (USD)', type: 'number', min: 0, step: '0.01', required: true },
      { key: 'Employment_Status', label: 'Employment Status', type: 'select', options: ['Employed', 'Unemployed', 'Self-employed', 'Student', 'Retired'], required: true },
      { key: 'Credit_Score', label: 'Credit Score', type: 'number', min: 0, max: 900, required: true },
      { key: 'Pre_Existing_Conditions', label: 'Pre-Existing Conditions', type: 'checkbox', required: false },
      { key: 'Smoking_Status', label: 'Smoking Status', type: 'select', options: ['Smoker', 'Non-smoker'], required: true },
      { key: 'BMI', label: 'BMI', type: 'number', min: 10, max: 60, step: '0.1', required: true },
      { key: 'Policy_Type', label: 'Policy Type', type: 'select', options: ['Term', 'Whole', 'Life', 'Health'], required: true },
      { key: 'Requested_Coverage', label: 'Requested Coverage (USD)', type: 'number', min: 0, step: '0.01', required: true },
      { key: 'Past_Claims', label: 'Number of Past Claims', type: 'number', min: 0, max: 20, required: true },
      { key: 'Fraud_Flag', label: 'History of Fraud', type: 'checkbox', required: false }
    ];

    function renderPolicyForm() {
      let formHtml = '<form id="policyForm" autocomplete="off" style="width:100%;display:flex;flex-direction:column;gap:0.7rem;">';
      for (const field of formFields) {
        formHtml += '<div class="form-row" style="display:flex;align-items:center;gap:1.2rem;width:100%;margin-bottom:0.1rem;">';
        if (field.type !== 'checkbox') {
          formHtml += `<label for="${field.key}" style="color:#b8c6ff;font-weight:600;min-width:170px;text-align:right;">${field.label}${field.required ? ' *' : ''}</label>`;
        }
        if (field.type === 'select') {
          formHtml += `<select id="${field.key}" name="${field.key}" required="${field.required ? 'required' : ''}" style="flex:1;padding:0.6rem 0.8rem;border-radius:0.5rem;background:rgba(24,26,43,0.7);color:#fff;border:1.5px solid #3f5efb;font-size:1rem;">`;
          formHtml += '<option value="" disabled selected>Select...</option>';
          for (const opt of field.options) {
            formHtml += `<option value="${opt}">${opt}</option>`;
          }
          formHtml += '</select>';
        } else if (field.type === 'checkbox') {
          formHtml += `<label style="color:#b8c6ff;font-weight:600;display:flex;align-items:center;gap:0.6em;cursor:pointer;"><input type="checkbox" id="${field.key}" name="${field.key}" style="accent-color:#3f5efb;transform:scale(1.2);margin-right:0.5em;">${field.label}</label>`;
        } else {
          formHtml += `<input type="${field.type}" id="${field.key}" name="${field.key}" ${field.min !== undefined ? `min=\"${field.min}\"` : ''} ${field.max !== undefined ? `max=\"${field.max}\"` : ''} ${field.step ? `step=\"${field.step}\"` : ''} ${field.required ? 'required' : ''} style="flex:1;padding:0.6rem 0.8rem;border-radius:0.5rem;background:rgba(24,26,43,0.7);color:#fff;border:1.5px solid #3f5efb;font-size:1rem;" />`;
        }
        formHtml += '</div>';
      }
      formHtml += '<button type="submit" style="margin-top:1.2rem;padding:0.7rem 1.6rem;font-size:1.08rem;font-weight:700;border:none;border-radius:0.5rem;background:#2563eb;color:#fff;box-shadow:0 2px 16px 0 rgba(62,95,251,0.13);cursor:pointer;transition:background 0.22s,box-shadow 0.22s,transform 0.18s;align-self:center;min-width:210px;">Submit Application</button>';
      formHtml += '</form>';
      return formHtml;
    }

    function renderPolicyPage() {
      mainContent.innerHTML = `
        <div class="policy-card">
          <h2>Check Your Policy</h2>
          <div id="policyFormContainer" style="width:100%;max-width:370px;margin:0 auto 1.2rem auto;">${renderPolicyForm()}</div>
          <div id="policyResult" style="margin-top:1.5rem;font-size:1.13rem;font-weight:700;min-height:3.5em;display:flex;align-items:center;justify-content:center;"></div>
          <button class="back-btn" id="backBtn">Back</button>
          <div id="policyNote" style="margin-top:1.2rem;font-size:0.98rem;color:#b8c6ff;text-align:center;"></div>
        </div>
      `;
      document.getElementById('backBtn').onclick = renderMainPage;
      const form = document.getElementById('policyForm');
      const resultDiv = document.getElementById('policyResult');
      const noteDiv = document.getElementById('policyNote');
      // Show a note if running from file://
      if (window.location.protocol === 'file:') {
        noteDiv.innerHTML = '<span style="color:#ffb347;">Note: For full functionality, please run this site from a local server (not file://). See instructions above.</span>';
      }
      form.onsubmit = async function(e) {
        e.preventDefault();
        resultDiv.innerHTML = '<span class="loader" style="display:inline-block;width:1.5em;height:1.5em;border:3px solid #3f5efb;border-top:3px solid #10111a;border-radius:50%;animation:spin 1s linear infinite;margin-right:0.7em;vertical-align:middle;"></span> <span style="color:#b8c6ff;">Checking...</span>';
        // Gather form data
        const formData = {};
        for (const field of formFields) {
          if (field.type === 'checkbox') {
            formData[field.key] = document.getElementById(field.key).checked;
          } else {
            formData[field.key] = document.getElementById(field.key).value.trim();
          }
        }
        // Helper for type conversion
        function normalize(val, type) {
          if (type === 'number') return Number(val);
          if (type === 'checkbox') return val === true || val === 'true';
          return String(val).toLowerCase();
        }
        try {
          const resp = await fetch('insurance_underwriting_dataset.json');
          if (!resp.ok) throw new Error('Network response was not ok');
          const data = await resp.json();
          // Find exact match (all fields except Application_ID, Application_Complete, Decision, Reason)
          const match = data.find(app =>
            normalize(app.Age, 'number') === normalize(formData.Age, 'number') &&
            normalize(app.Income, 'number') === normalize(formData.Income, 'number') &&
            normalize(app.Employment_Status) === normalize(formData.Employment_Status) &&
            normalize(app.Credit_Score, 'number') === normalize(formData.Credit_Score, 'number') &&
            normalize(app.Pre_Existing_Conditions, 'checkbox') === normalize(formData.Pre_Existing_Conditions, 'checkbox') &&
            normalize(app.Smoking_Status) === normalize(formData.Smoking_Status) &&
            normalize(app.BMI, 'number') === normalize(formData.BMI, 'number') &&
            normalize(app.Policy_Type) === normalize(formData.Policy_Type) &&
            normalize(app.Requested_Coverage, 'number') === normalize(formData.Requested_Coverage, 'number') &&
            normalize(app.Past_Claims, 'number') === normalize(formData.Past_Claims, 'number') &&
            normalize(app.Fraud_Flag, 'checkbox') === normalize(formData.Fraud_Flag, 'checkbox')
          );
          if (match) {
            let resultHtml = '';
            if (match.Decision === 'Accept') {
              resultHtml += `<span style='color:#22d47b;font-size:1.5em;'>Accepted</span><br><span style='color:#b8c6ff;font-weight:500;'>Reason: ${match.Reason}</span>`;
            } else if (match.Decision === 'Reject') {
              resultHtml += `<span style='color:#ff4b6e;font-size:1.5em;'>Rejected</span><br><span style='color:#b8c6ff;font-weight:500;'>Reason: ${match.Reason}</span>`;
            } else {
              resultHtml += `<span style='color:#f7c948;font-size:1.2em;'>${match.Decision}</span><br><span style='color:#b8c6ff;font-weight:500;'>Reason: ${match.Reason}</span>`;
            }
            // Structured row display of matched data
            resultHtml += `<div style='margin-top:1.2em;'><div style='display:flex;flex-wrap:wrap;gap:0.7em 2.2em;justify-content:center;background:rgba(24,26,43,0.7);border-radius:0.7em;padding:1em 0.7em;box-shadow:0 2px 12px 0 rgba(62,95,251,0.10);'>`;
            const showFields = [
              'Age','Income','Employment_Status','Credit_Score','Pre_Existing_Conditions','Smoking_Status','BMI','Policy_Type','Requested_Coverage','Past_Claims','Fraud_Flag'
            ];
            for (const key of showFields) {
              let label = key.replace(/_/g,' ').replace('BMI','BMI').replace('Flag','Flag').replace('Status','Status');
              let value = match[key];
              if (typeof value === 'boolean') value = value ? 'Yes' : 'No';
              resultHtml += `<div style='min-width:120px;'><span style='color:#b8c6ff;font-size:0.98em;font-weight:600;'>${label}:</span> <span style='color:#fff;font-size:1.05em;font-weight:500;'>${value}</span></div>`;
            }
            resultHtml += '</div></div>';
            resultDiv.innerHTML = resultHtml;
          } else {
            resultDiv.innerHTML = `<span style='color:#ffb347;'>No matching policy found in dataset.</span>`;
          }
        } catch (err) {
          resultDiv.innerHTML = `<span style='color:#ff4b6e;font-size:1.2em;'>Error loading dataset.<br><span style='color:#b8c6ff;font-size:0.95em;'>If you are running this from file://, please use a local server.</span></span>`;
        }
      };
    }
    function renderMainPage() {
      window.location.reload(); // reload to restore all event listeners and layout
    }
    if (policyBtn) {
      policyBtn.onclick = renderPolicyPage;
    }
    // Add loader animation
    const loaderStyle = document.createElement('style');
    loaderStyle.innerHTML = `@keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }
    @media (max-width: 600px) {
      .policy-card { max-width: 98vw !important; padding: 1.1rem 0.3rem 1.1rem 0.3rem !important; }
      #policyFormContainer { max-width: 99vw !important; padding: 0 !important; }
      #policyForm { gap: 0.5rem !important; }
      .form-row { flex-direction: column !important; align-items: stretch !important; gap: 0.3rem !important; }
      .form-row label { min-width: 0 !important; text-align: left !important; font-size: 1em !important; }
      #policyForm input, #policyForm select { font-size: 1.08em !important; padding: 0.7em 0.9em !important; min-width: 0 !important; }
      #policyForm button { font-size: 1.13em !important; padding: 1em 0 !important; min-width: 0 !important; width: 100% !important; }
      #policyResult > div { flex-direction: column !important; gap: 0.5em !important; padding: 0.7em 0.2em !important; }
    }
    `;
    document.head.appendChild(loaderStyle);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // Data Visualization Section
    async function renderCharts() {
      // Load dataset
      let data = [];
      try {
        const resp = await fetch('insurance_underwriting_dataset.json');
        if (!resp.ok) throw new Error('Network response was not ok');
        data = await resp.json();
      } catch (err) {
        document.getElementById('charts-section').innerHTML = '<span style="color:#ff4b6e;">Error loading data for charts.</span>';
        return;
      }
      // Acceptance vs Rejection Pie
      const acceptCount = data.filter(d => d.Decision === 'Accept').length;
      const rejectCount = data.filter(d => d.Decision === 'Reject').length;
      const needMoreInfoCount = data.filter(d => d.Decision === 'Need More Info').length;
      // Common rejection reasons
      const rejectReasons = {};
      data.filter(d => d.Decision === 'Reject').forEach(d => {
        rejectReasons[d.Reason] = (rejectReasons[d.Reason] || 0) + 1;
      });
      const reasonLabels = Object.keys(rejectReasons);
      const reasonCounts = Object.values(rejectReasons);
      // Draw charts
      // Pie chart
      new Chart(document.getElementById('acceptPie'), {
        type: 'pie',
        data: {
          labels: ['Accepted', 'Rejected', 'Need More Info'],
          datasets: [{
            data: [acceptCount, rejectCount, needMoreInfoCount],
            backgroundColor: ['#22d47b', '#ff4b6e', '#f7c948'],
            borderWidth: 1.5,
            borderColor: '#181a2b',
          }]
        },
        options: {
          plugins: { legend: { labels: { color: '#b8c6ff', font: { weight: 'bold' } } } },
          responsive: true,
        }
      });
      // Bar chart
      new Chart(document.getElementById('reasonBar'), {
        type: 'bar',
        data: {
          labels: reasonLabels,
          datasets: [{
            label: 'Rejection Count',
            data: reasonCounts,
            backgroundColor: '#ff4b6e',
            borderRadius: 8,
          }]
        },
        options: {
          plugins: { legend: { display: false } },
          scales: {
            x: { ticks: { color: '#b8c6ff', font: { weight: 'bold' } } },
            y: { ticks: { color: '#b8c6ff' }, beginAtZero: true }
          },
          responsive: true,
        }
      });
    }
    // Risk Score Gauge (progress bar)
    function renderRiskGauge(score) {
      const gauge = document.getElementById('riskGaugeBar');
      const label = document.getElementById('riskGaugeLabel');
      gauge.style.width = score + '%';
      if (score < 40) {
        gauge.style.background = '#22d47b';
      } else if (score < 70) {
        gauge.style.background = '#f7c948';
      } else {
        gauge.style.background = '#ff4b6e';
      }
      label.textContent = `Risk Score: ${score}`;
    }
    // Show charts on main page load
    window.addEventListener('DOMContentLoaded', () => {
      if (document.getElementById('charts-section')) renderCharts();
    });
    // Example: update risk gauge after policy check (you can call renderRiskGauge(score) with a real score)
  </script>
  <div id="charts-section" style="max-width:900px;margin:3.5rem auto 2.5rem auto;padding:2rem 1.2rem 2.5rem 1.2rem;background:rgba(24,26,43,0.55);border-radius:1.5rem;box-shadow:0 8px 32px 0 rgba(10,10,30,0.18);backdrop-filter:blur(18px);">
    <h2 style="color:#fff;text-align:center;margin-bottom:2.2rem;font-size:2rem;">Platform Insights</h2>
    <div style="display:flex;flex-wrap:wrap;gap:2.5rem 2.5rem;justify-content:center;align-items:flex-start;">
      <div style="flex:1 1 220px;min-width:220px;max-width:320px;text-align:center;">
        <h3 style="color:#b8c6ff;font-size:1.15rem;margin-bottom:1.1rem;">Acceptance Rate</h3>
        <canvas id="acceptPie" width="220" height="220"></canvas>
      </div>
      <div style="flex:2 1 320px;min-width:220px;max-width:420px;text-align:center;">
        <h3 style="color:#b8c6ff;font-size:1.15rem;margin-bottom:1.1rem;">Top Rejection Reasons</h3>
        <canvas id="reasonBar" width="320" height="220"></canvas>
      </div>
      <div style="flex:1 1 220px;min-width:220px;max-width:320px;text-align:center;">
        <h3 style="color:#b8c6ff;font-size:1.15rem;margin-bottom:1.1rem;">Risk Score Gauge</h3>
        <div style="width:100%;background:rgba(62,95,251,0.13);border-radius:1.2em;height:2.2em;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px 0 rgba(62,95,251,0.10);">
          <div id="riskGaugeBar" style="height:1.2em;width:40%;background:#22d47b;border-radius:1.2em;transition:width 0.7s,background 0.7s;"></div>
        </div>
        <div id="riskGaugeLabel" style="margin-top:0.7em;color:#b8c6ff;font-weight:600;">Risk Score: 40</div>
      </div>
    </div>
  </div>
  <style>
    @keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }
  </style>
</body>
</html> 